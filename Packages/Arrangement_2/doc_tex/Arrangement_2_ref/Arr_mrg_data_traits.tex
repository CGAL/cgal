% +------------------------------------------------------------------------+
% | Reference manual page: Arr_cons_data_traits.tex
% +------------------------------------------------------------------------+
% | 
% | Package: Arrangement_2
% | 
% +------------------------------------------------------------------------+

\ccRefPageBegin
\begin{ccRefClass}{Arr_merged_curve_data_traits_2<Traits,Data,Merge>}

\ccDefinition
%============

The class \ccRefName\ is a model of the \ccc{ArrangementTraits_2} concept
and serves as a meta-traits class that allows the extension of the curves
defined by the \ccc{Traits} parameter, which serves as a geometric
traits-class (a model of the \ccc{ArrangementTraits_2} concept), with
extraneous (non-geometric) data fields of type \ccc{Data}.

The traits class inherits its point type from \ccc{Traits::Point_2},
and defines an extended \ccc{Curve_2} and \ccc{X_monotone_curve_2} types,
as detailed below.

Each \ccc{Curve_2} object is associated with a single data field, and this
field is copied to all \ccc{X_monotone_curve_2} objects induced by this curve.
In case two (or more) $x$-monotone curves overlap, their data fields are
merged to a single field, using the \ccc{Merge} functor, which is one of
the template parameters. This functor should provide an operator with the
following prototype: \\
\indent \ccc{Data operator() (const Data& d1, const Data& d2) const;} \\
which returns a single data object that represents the merged data field
of \ccc{d1} and \ccc{d2}. The $x$-monotone curve that represents the overlap
is associated with the output of this functor.

\ccInclude{CGAL/Arr_merged_curve_data_traits_2.h}
 
\ccIsModel
    \ccc{ArrangementTraits_2}

\ccInheritsFrom
  \ccc{Traits}

\ccTypes
%-------

\ccTypedef{typedef typename Traits::Curve_2 Base_curve_2;}
    {the base curve.}

\ccTypedef{typedef typename Traits::X_monotone_curve_2 Base_x_monotone_curve_2;}
    {the base $x$-monotone curve curve.}

\subsection*{Class 
 Arr\_merged\_curve\_data\_traits\_2$<$Traits,Data$>$::Curve\_2}
%=====================================================================

The \ccc{Curve_2} class nested within the merged curve-data traits
extends the \ccc{Traits::Curve_2} type with an extra data field of type
\ccc{Data}.

\begin{ccClass}{Arr_merged_curve_data_traits_2<Traits,Data>::Curve_2}

\ccInheritsFrom
  \ccc{Traits::Curve_2}

\ccCreation
\ccCreationVariable{cv}
%---------------------

\ccConstructor{Curve_2 ();}
    {default constructor.}

\ccConstructor{Curve_2 (const Base_curve_2& base, const Data& data);}
    {constructs curve from the given \ccc{base} curve with an attached
     \ccc{data} field.}

\ccAccessFunctions
%-----------------

\ccMethod{const Data& get_data () const;}
  {returns the data field (a non-const version, which returns a reference
   to the data object, is also available).}

\ccMethod{void set_data (const Data& data);}
  {sets the data field.}

\end{ccClass}

\subsection*{Class Arr\_merged\_curve\_data\_traits\_2$<$Traits,Data$>$::X\_monotone\_curve\_2}
%=============================================================================

The \ccc{X_monotone_curve_2} class nested within the merged 
curve-data traits extends the \ccc{Traits::X_monotone_curve_2} type with 
an extra data field.

\begin{ccClass}{Arr_merged_curve_data_traits_2<Traits,Data>::
                X_monotone_curve_2}

\ccInheritsFrom
  \ccc{Traits::X_monotone_curve_2}

\ccCreation
\ccCreationVariable{xcv}
%-----------------------

\ccConstructor{X_monotone_curve_2 ();}
    {default constructor.}

\ccConstructor{X_monotone_curve_2 (const Base_x_monotone_curve_2& base, 
                                   const Data& data);}
    {constructs an $x$-monotone curve from the given \ccc{base} $x$-monotone
     curve with an attached \ccc{data} field.}

\ccAccessFunctions
%-----------------

\ccMethod{const Data& get_data () const;}
  {returns the field (a non-const version, which returns a reference
   to the data object, is also available).}

\ccMethod{void set_data (const Data& data);}
  {sets the data field.}

\end{ccClass}

\end{ccRefClass}

\ccRefPageEnd

